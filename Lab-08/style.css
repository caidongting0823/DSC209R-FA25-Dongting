body {
  /* Set line height to 1.5 times the font size
	   and use the OS’s UI font as the website font
	 */
  font: 100%/1.5 system-ui;
}

/* --- Step 1: Page layout --- */
/* 1. Limit line length and center the page */
html { color-scheme: light dark; }

html {
  --page-max: 100ch; /* custom property for max line length */
}

body {
  max-width: var(--page-max);   /* limit line length */
  margin-inline: auto;          /* center the page */
  padding-inline: 1rem;         /* side gutters on small screens */
}

/* 2. Make images, videos, SVGs, and canvases responsive */
img, video, svg, canvas {
  max-width: 100%;
  height: auto;
  display: block;   /* avoids stray gaps below images */
}

/* --- Step 2: Navigation bar --- */
:root {
  /* tweak this later if you want a different accent */
  --accent: oklch(0.525 0.204 265.44); /* a pleasant blue */
  --line: oklch(0.848 0.128 74.021);   /* subtle gray-blue divider */
}

nav {
    display: flex;                 /* lay out links in a row */
    margin-bottom: 1rem;           /* space below the bar */
    border-bottom: 1px solid var(--line);
    background: canvas;
    color: canvastext;
}

nav a {
    flex: 1;                       /* equal width items */
    text-align: center;            /* center labels */
    text-decoration: none;         /* remove underline */
    color: inherit;                /* use page text color */
    padding: .5rem 0;              /* bigger tap/click target */
    border-bottom: .4rem solid transparent; /* for hover/current underline */
}

nav a.current,
nav a[aria-current="page"] {
  border-bottom-color: var(--line);
  padding-bottom: calc(.5rem - .4rem); /* keep height consistent */
}

nav a:hover {
  border-bottom-color: var(--accent);
  background: color-mix(in oklab, var(--accent) 10%, canvas 85%);
}


/* --- Step 3: Contact form layout (Grid + subgrid) --- */
form {
  display: grid;
  grid-template-columns: auto 1fr;  /* label column + field column */
  gap: 1rem;                        /* row/col spacing */
  align-items: center;
}

form label {
  /* Each label becomes a mini-layout that inherits the form's columns */
  display: grid;
  grid-template-columns: subgrid;   /* use the parent (form) columns */
  grid-column: 1 / -1;              /* each label spans the full row */
  gap: .5rem;
}

form label span {
  grid-column: 1;                   /* label text on the left */
  align-self: center;
}

form input,
form textarea,
form button {
  font: inherit;                    /* match site typography */
}

form input,
form textarea {
  grid-column: 2;                   /* controls on the right */
  width: 100%;
  box-sizing: border-box;
  padding: .5rem .6rem;
  border: 1px solid oklch(0.848 0.128 74.021);
  border-radius: .25rem;
}

form textarea { resize: vertical; }

form button {
  grid-column: 1 / -1;              /* button spans both columns */
  justify-self: start;
  padding: .55rem 1rem;
  border: 1px solid oklch(85% 0.03 200);
  border-radius: .35rem;
  background: white;
  cursor: pointer;
  accent-color: var(--accent);
}

form button:hover { background: color-mix(in oklab, var(--accent) 10%, canvas); }

/* --- Step 4: Projects grid --- */
.projects {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(15em, 1fr));
  gap: 1rem;
}

/* Each card aligns its inner pieces to a shared rhythm */
.projects > article {
  display: grid;
  grid-template-rows: subgrid; /* align headings, images, text across rows */
  grid-row: span 3;            /* three rows per card: h2, img, p */
  gap: .5rem;
}

.projects h2 { margin: 0; line-height: 1.2; }
.projects img { width: 100%; height: auto; display: block; }


/* --- Step 5: CV / resume styles --- */

/* Layout rhythm */
.cv {
  display: grid;
  gap: 1.25rem;
}
.cv section {
  display: grid;
  gap: .5rem;
}

/* Headings */
.cv h2 {
  border-bottom: 1px solid oklch(0.525 0.204 265.44);
  padding-bottom: .25rem;
  margin: 0;
}
.cv h3 {
  margin: 0;
  line-height: 1.25;
}

/* Meta rows (title + dates/place) */
.cv article > p:first-of-type {
  margin: 0 0 .25rem 0;
  color: oklch(0.805 0 89.876);
  font-size: 0.95em;
}

/* Lists */
.cv ul {
  margin: 0 0 0 1.25rem;
}
.cv .tags {
  display: flex;
  flex-wrap: wrap;
  gap: .4rem .6rem;
  list-style: none;
  margin: 0;
  padding: 0;
}
.cv .tags li {
  border: 1px solid oklch(0.525 0.204 265.44);
  border-radius: .4rem;
  padding: .2rem .5rem;
  font-size: .95em;
}

/* Compact spacing between stacked articles */
.cv article + article {
  margin-top: .75rem;
}

/* Print-friendly tweaks (optional but nice) */
@media print {
  nav { display: none; }
  a { color: #bfbfbf; text-decoration: none; }
  body { padding-inline: 0; }
  .cv h2 { border-color: #bfbfbf; }
}

/* Github Sections */
.github-grid {
  display: grid;
  gap: 1rem;
  grid-template-columns: repeat(auto-fit, minmax(min(100%, 18rem), 1fr));
  align-items: start;
}

.repo-card {
  border: 1px solid var(--line, #ddd);
  border-radius: 1rem;
  padding: 1rem;
  background: var(--card, Canvas);
  box-shadow: 0 1px 4px rgb(0 0 0 / 6%);
}

.repo-card h3 {
  margin: 0 0 0.5rem 0;
  font-size: 1.05rem;
}

.repo-card p {
  margin: 0 0 0.75rem 0;
  color: var(--muted, #444);
}

.repo-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem;
  padding: 0;
  margin: 0;
  list-style: none;
  font-size: 0.9rem;
  opacity: 0.9;
}

#profile-stats dl {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: .5rem 1rem;
}
#profile-stats dt { grid-row: 1; font-weight: 600; }
#profile-stats dd { grid-row: 2; margin: 0; }

/* --- GitHub blocks: tiny polish --- */
.github-grid {
  display: grid;
  gap: 1rem;
  grid-template-columns: repeat(auto-fit, minmax(18rem, 1fr));
}
.repo-card {
  border: 1px solid var(--line, #303036);
  border-radius: 12px;
  padding: 1rem;
  background: var(--card, color-mix(in oklab, Canvas 94%, #000 6%));
  box-shadow: 0 1px 6px rgb(0 0 0 / 10%);
}
.repo-card h3 { margin: 0 0 .5rem; font-size: 1.05rem; }
.repo-card p { margin: 0 0 .75rem; opacity: .9; }
.repo-meta {
  display: flex; gap: .9rem; padding: 0; margin: 0; list-style: none;
  font-size: .9rem; opacity: .9;
}

/* Profile stats as a neat 4-up */
#profile-stats dl {
  display: grid; gap: .25rem 1rem;
  grid-template-columns: repeat(4, minmax(8rem, 1fr));
}
#profile-stats dt { font-weight: 600; opacity: .85; }
#profile-stats dd { margin: 0 0 .75rem; }
@media (max-width: 720px) {
  #profile-stats dl { grid-template-columns: repeat(2, 1fr); }
}

/* Lab 05 – Step 1 pie chart sizing */
#projects-pie-plot {
  max-width: 20rem;
  margin-block: 2rem;
  overflow: visible; /* keeps wedges fully visible */
}

/* Lab 5 Step 2 — Legend layout + swatches */
.legend {
  list-style: none;
  margin: 0;
  padding: 0.75rem;
  border: 1px solid var(--border, #ddd);
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(9em, 1fr));
  gap: 0.75rem 1rem; /* grid gap */
}

.legend li {
  display: flex;            /* vertically center swatch + text */
  align-items: center;
  gap: 0.5rem;              /* li’s internal gap smaller than the grid gap */
}

.legend .swatch {
  display: inline-block;    /* allow width/height */
  width: 0.9em;
  aspect-ratio: 1 / 1;      /* square */
  background: var(--color); /* set via inline style from JS */
  border-radius: 0.2em;
}

/* Lab 5 Step 2.3 — place pie and legend side-by-side */
.pie-wrap {
  display: flex;
  gap: 1.25rem;
  align-items: start;
}
.pie-wrap .legend { flex: 1; } /* legend uses remaining width */

/* Lab 5 Step 4 — Search bar styles */
.searchBar { max-width: 28rem; width: 100%; padding: .6rem .8rem; border: 1px solid var(--border,#ddd); border-radius: .5rem; margin-block: 1rem; }
.search-hint { margin-top: .25rem; font-size: .9rem; color: var(--muted, #555); }

/* Lab 05 — Step 5: interactive pie + legend */
#projects-pie-plot .slice {
  cursor: pointer;
  transition: transform .12s ease, opacity .12s ease, stroke-width .12s ease;
  transform-box: fill-box;   /* so transforms use the path’s box */
  transform-origin: 50% 50%;
}
#projects-pie-plot .slice.hover { transform: scale(1.035); }
#projects-pie-plot .slice.active { stroke: #111; stroke-width: 2px; }
#projects-pie-plot .slice.muted { opacity: .45; }

.legend li { cursor: pointer; user-select: none; }
.legend li.active { font-weight: 600; text-decoration: underline; }
.legend li.muted { opacity: .55; }

/* Lab 06 – summary stats block */
.stats {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: .4rem 1rem;
  padding: .75rem;
  border: 1px solid var(--line, #ddd);
  border-radius: .5rem;
  max-width: 42rem;
}
.stats dt { font-weight: 600; opacity: .85; }
.stats dd { margin: 0; }

/* ============= Lab 06 — Fancy stats card ============= */
.stats {
  /* themeable tokens */
  --card-bg: #ffffff;
  --line: #e8dfd6;
  --text: #191919;
  --accent: #d48b27;

  background:
    linear-gradient(180deg, rgba(212,139,39,.07), transparent 60%),
    var(--card-bg);
  border: 1px solid var(--line);
  border-radius: 16px;
  box-shadow: 0 6px 20px rgba(0,0,0,.06);
  padding: 1rem 1.25rem;

  display: grid;
  grid-template-columns: max-content 1fr;
  column-gap: 1.25rem;
  row-gap: .35rem;
  max-width: 48rem;
  line-height: 1.25;
}

.stats dt {
  font-size: .92rem;
  letter-spacing: .02em;
  color: var(--text);
  opacity: .8;
  /* top/bottom rhythm + separators from row 2 onward */
  padding-top: .35rem;
  margin-top: .35rem;
  border-top: 1px dashed transparent;
}
.stats dd {
  margin: 0;
  justify-self: end;   /* right-align numbers */
  align-self: baseline;
  padding-top: .35rem;
  margin-top: .35rem;
  border-top: 1px dashed transparent;
}

/* draw separators on rows after the first */
.stats > dt:nth-of-type(n+2),
.stats > dd:nth-of-type(n+2) {
  border-top-color: var(--line);
}

.stats dd.num {
  font: 600 1.6rem/1.1 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  font-variant-numeric: tabular-nums; /* nice lining-up digits */
  color: var(--text);
}

.stats abbr[title] {
  text-decoration: underline dotted;
  text-underline-offset: 2px;
}

/* Small-screen tune-up */
@media (max-width: 640px) {
  .stats {
    grid-template-columns: 1fr auto;
    border-radius: 12px;
  }
  .stats dd.num { font-size: 1.25rem; }
}

/* Dark mode (auto) */
@media (prefers-color-scheme: dark) {
  .stats {
    --card-bg: #121212;
    --line: #2a2a2a;
    --text: #eaeaea;
    --accent: #f6c177;
    box-shadow: 0 10px 24px rgba(0,0,0,.35);
  }
}

/* Lab 06 — scatterplot aids */
.gridlines line { stroke: var(--line, #ddd); stroke-opacity: .6; shape-rendering: crispEdges; }
.gridlines path { display: none; }   /* hide the axis baseline for gridlines */
.dots circle { vector-effect: non-scaling-stroke; }

/* Tooltip content layout (reusable) */
dl.info{
  display:grid;
  grid-template-columns:auto 1fr;
  gap:.25rem .75rem;
  padding:.6rem .8rem;
  border:1px solid var(--line,#ddd);
  border-radius:12px;
  background:rgba(255,255,255,.9);
  box-shadow:0 8px 24px rgba(0,0,0,.12);
  backdrop-filter:blur(6px);
  transition-duration:500ms;
  transition-property:opacity,visibility;
}
dl.info dt{margin:0; font-size:.8rem; opacity:.65}
dl.info dd{margin:0; font-weight:600}

/* Make it behave like a tooltip */
.tooltip{ position:fixed; top:1em; left:1em; pointer-events:none; }
dl.info[hidden]:not(:hover,:focus-within){ opacity:0; visibility:hidden }

/* Hover animation for dots */
.dots circle{
  transition:200ms;
  transform-origin:center;
  transform-box:fill-box;
}
.dots circle:hover{ transform:scale(1.5) }

#chart .dots circle {
  /* whatever transitions you already had, e.g.: */
  transition: r 200ms ease-out;

  @starting-style {
    r: 0;
  }
}

@keyframes marching-ants { to { stroke-dashoffset: -8; } }

.selection{
  fill-opacity: .10;
  stroke: black;
  stroke-opacity: .7;
  stroke-dasharray: 5 3;
  animation: marching-ants 2s linear infinite;
}

circle.selected { fill: #ff6b6b; }
